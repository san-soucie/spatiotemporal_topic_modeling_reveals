schema: '2.0'
stages:
  process_data:
    cmd: python src/data_processing/process_data.py
    deps:
    - path: data/raw
      hash: md5
      md5: 18597e4456f95cc52520ae8874e1b3aa.dir
      size: 17484228
      nfiles: 15
    - path: src/data_processing/process_data.py
      hash: md5
      md5: f665dc2999b11abbb6282bf68bc94976
      size: 4104
    outs:
    - path: data/processed/classcount.json
      hash: md5
      md5: fcfef9ec89b66a4b3dbcc2caa2ab720f
      size: 814678
    - path: data/processed/data.json
      hash: md5
      md5: d45f9318f2f103fad70301b639fd1c24
      size: 580824
    - path: data/processed/meta_data.json
      hash: md5
      md5: b8c412ddc2be052079403cd5ccc2c41d
      size: 591268
    - path: data/processed/observations.csv
      hash: md5
      md5: cf92cbf4c3094ae2ba6019dcd34d125c
      size: 74309
  figure1:
    cmd: python src/outputs/figure1.py
    deps:
    - path: data/processed/meta_data.json
      hash: md5
      md5: b8c412ddc2be052079403cd5ccc2c41d
      size: 591268
    - path: data/raw/altitude.csv
      hash: md5
      md5: a55aa90c495bec3f40535a4bae1b0012
      size: 68666
    - path: data/raw/ec.csv
      hash: md5
      md5: 93897844f9f3afc75d399c095fe0a4d5
      size: 3013
    - path: data/raw/sst.csv
      hash: md5
      md5: efab69fe41e0df5ea25882ba1bd737aa
      size: 15075961
    - path: src/outputs/common.py
      hash: md5
      md5: 6680afd704d5d3ab3d86f686aecfdd76
      size: 652
    - path: src/outputs/figure1.py
      hash: md5
      md5: 94eba0b82f6a37ee3ec16efa35c71bf5
      size: 5491
    params:
      params.yaml:
        figures.dpi: 600
        figures.page_height: 9.05512
        figures.page_width: 7.48031
    outs:
    - path: output/figure1.eps
      hash: md5
      md5: 81f773a7d344b8ba96aaa2ed23a5840b
      size: 16688643
  nmds:
    cmd: python src/data_processing/nmds.py
    deps:
    - path: data/processed/data.json
      hash: md5
      md5: d45f9318f2f103fad70301b639fd1c24
      size: 580824
    - path: data/processed/meta_data.json
      hash: md5
      md5: b8c412ddc2be052079403cd5ccc2c41d
      size: 591268
    - path: src/data_processing/nmds.py
      hash: md5
      md5: 235aa13ebe613d47f80de9fbc3520f72
      size: 1525
    params:
      params.yaml:
        nmds.random_seed: 7777
    outs:
    - path: data/model/nmds.json
      hash: md5
      md5: c265f664bab518d74613337c42f63e05
      size: 90629
  rost:
    cmd: python src/data_processing/rost.py
    deps:
    - path: data/preserved_rost_output/rost_topic_prob.json
      hash: md5
      md5: 1e098d7266e71ffbee2498939c7af42d
      size: 218851
    - path: data/preserved_rost_output/rost_word_prob.json
      hash: md5
      md5: 680dbf1253a282b7159c8a6f17cc2fef
      size: 2388142
    - path: data/preserved_rost_output/rost_wt_matrix.json
      hash: md5
      md5: c4827e5977ab1ab0feaa0488cbee3f23
      size: 9758
    - path: data/processed/meta_data.json
      hash: md5
      md5: b8c412ddc2be052079403cd5ccc2c41d
      size: 591268
    - path: data/processed/observations.csv
      hash: md5
      md5: cf92cbf4c3094ae2ba6019dcd34d125c
      size: 74309
    - path: src/data_processing/rost.py
      hash: md5
      md5: 5496e7e1b3840dba3cc1c7300beb20ea
      size: 3945
    params:
      params.yaml:
        rost.alpha: 0.001
        rost.beta: 0.001
        rost.copy_preserved_data: true
        rost.epochs: 1000
        rost.k: 4
        rost.overwrite: true
    outs:
    - path: data/model/rost_topic_prob.json
      hash: md5
      md5: 1e098d7266e71ffbee2498939c7af42d
      size: 218851
    - path: data/model/rost_word_prob.json
      hash: md5
      md5: 680dbf1253a282b7159c8a6f17cc2fef
      size: 2388142
    - path: data/model/rost_wt_matrix.json
      hash: md5
      md5: c4827e5977ab1ab0feaa0488cbee3f23
      size: 9758
  figure3:
    cmd: python src/outputs/figure3.py
    deps:
    - path: data/model/nmds.json
      hash: md5
      md5: c265f664bab518d74613337c42f63e05
      size: 90629
    - path: data/processed/meta_data.json
      hash: md5
      md5: b8c412ddc2be052079403cd5ccc2c41d
      size: 591268
    - path: src/outputs/common.py
      hash: md5
      md5: f206c157120a4522b22f9b768bfa658b
      size: 665
    - path: src/outputs/figure3.py
      hash: md5
      md5: df4588d3bab909bd0493aff3d977d4bf
      size: 7495
    params:
      params.yaml:
        figures.dpi: 600
        figures.page_height: 9.05512
        figures.page_width: 7.48031
    outs:
    - path: output/figure3.eps
      hash: md5
      md5: c6ab2b01b5b31a3143720bb0d55782cb
      size: 85428
  figure4:
    cmd: python src/outputs/figure4.py
    deps:
    - path: data/model/rost_topic_prob.json
      hash: md5
      md5: 1e098d7266e71ffbee2498939c7af42d
      size: 218851
    - path: data/processed/meta_data.json
      hash: md5
      md5: b8c412ddc2be052079403cd5ccc2c41d
      size: 591268
    - path: src/outputs/common.py
      hash: md5
      md5: 6680afd704d5d3ab3d86f686aecfdd76
      size: 652
    - path: src/outputs/figure4.py
      hash: md5
      md5: 0c2bc18fe48dfa9f1ec79811c7062105
      size: 3421
    params:
      params.yaml:
        figures.dpi: 600
        figures.page_height: 9.05512
        figures.page_width: 7.48031
    outs:
    - path: output/figure4.eps
      hash: md5
      md5: 976c218ce5f65b2297e0623bd4f833ec
      size: 160684
  figure5:
    cmd: python src/outputs/figure5.py
    deps:
    - path: data/model/rost_wt_matrix.json
      hash: md5
      md5: c4827e5977ab1ab0feaa0488cbee3f23
      size: 9758
    - path: data/processed/meta_data.json
      hash: md5
      md5: b8c412ddc2be052079403cd5ccc2c41d
      size: 591268
    - path: src/outputs/common.py
      hash: md5
      md5: 6680afd704d5d3ab3d86f686aecfdd76
      size: 652
    - path: src/outputs/figure5.py
      hash: md5
      md5: 86acc5300f3cbbe956a2d0111508976b
      size: 3210
    params:
      params.yaml:
        figures.dpi: 600
        figures.page_height: 9.05512
        figures.page_width: 7.48031
    outs:
    - path: output/figure5.eps
      hash: md5
      md5: 68229eb9100e6c003157bd7f200da976
      size: 56265
  figure6:
    cmd: python src/outputs/figure6.py
    deps:
    - path: data/model/rost_topic_prob.json
      hash: md5
      md5: 1e098d7266e71ffbee2498939c7af42d
      size: 218851
    - path: data/processed/meta_data.json
      hash: md5
      md5: b8c412ddc2be052079403cd5ccc2c41d
      size: 591268
    - path: src/outputs/common.py
      hash: md5
      md5: 6680afd704d5d3ab3d86f686aecfdd76
      size: 652
    - path: src/outputs/figure6.py
      hash: md5
      md5: 70011061d3bb23f1132ac4d966b69fd1
      size: 5248
    params:
      params.yaml:
        figures.dpi: 600
        figures.page_height: 9.05512
        figures.page_width: 7.48031
    outs:
    - path: output/figure6.eps
      hash: md5
      md5: 2de78e595f54dd4852cda124cead6c48
      size: 3192242
  figure7:
    cmd: python src/outputs/figure7.py
    deps:
    - path: data/model/rost_topic_prob.json
      hash: md5
      md5: 1e098d7266e71ffbee2498939c7af42d
      size: 218851
    - path: data/processed/data.json
      hash: md5
      md5: d45f9318f2f103fad70301b639fd1c24
      size: 580824
    - path: data/processed/meta_data.json
      hash: md5
      md5: b8c412ddc2be052079403cd5ccc2c41d
      size: 591268
    - path: src/outputs/common.py
      hash: md5
      md5: 6680afd704d5d3ab3d86f686aecfdd76
      size: 652
    - path: src/outputs/figure7.py
      hash: md5
      md5: ecdb0b1e1bd8d5c01579ef1433868c2d
      size: 7576
    params:
      params.yaml:
        figures.dpi: 600
        figures.page_height: 9.05512
        figures.page_width: 7.48031
    outs:
    - path: output/figure7.eps
      hash: md5
      md5: 3579398151e6f632cd62395773319821
      size: 1836661
  figure8:
    cmd: python src/outputs/figure8.py
    deps:
    - path: data/processed/data.json
      hash: md5
      md5: d45f9318f2f103fad70301b639fd1c24
      size: 580824
    - path: data/processed/meta_data.json
      hash: md5
      md5: b8c412ddc2be052079403cd5ccc2c41d
      size: 591268
    - path: data/raw/1dmodel.csv
      hash: md5
      md5: bac311593620f074e81aaac14bec76b8
      size: 105592
    - path: data/raw/summary_biovol_allHDF_min20_2021.classcount.csv
      hash: md5
      md5: 2d84f5da84fc96199a348c9817c7cb44
      size: 369232
    - path: data/raw/summary_biovol_allHDF_min20_2021.meta_data.csv
      hash: md5
      md5: f7fdd4b89346d3af6e148d8ffd0098ac
      size: 207249
    - path: src/outputs/common.py
      hash: md5
      md5: 6680afd704d5d3ab3d86f686aecfdd76
      size: 652
    - path: src/outputs/figure8.py
      hash: md5
      md5: c57757284de7b659ff433e09d68930d3
      size: 6485
    params:
      params.yaml:
        figures.dpi: 600
        figures.page_height: 9.05512
        figures.page_width: 7.48031
    outs:
    - path: output/figure8.eps
      hash: md5
      md5: be5f3065fbbcef2074ae5a2f4ec405a3
      size: 2435208
  table1:
    cmd: python src/outputs/table1.py
    deps:
    - path: data/model/rost_topic_prob.json
      hash: md5
      md5: 1e098d7266e71ffbee2498939c7af42d
      size: 218851
    - path: data/processed/meta_data.json
      hash: md5
      md5: b8c412ddc2be052079403cd5ccc2c41d
      size: 591268
    - path: src/outputs/common.py
      hash: md5
      md5: 6680afd704d5d3ab3d86f686aecfdd76
      size: 652
    - path: src/outputs/table1.py
      hash: md5
      md5: 5ee2ea9503275d542c0696a38c417883
      size: 2856
    outs:
    - path: output/table1.tex
      hash: md5
      md5: 1a9b8685930ed22eb2fd3919dfc529f9
      size: 1179
  figure7_defense:
    cmd: python src/outputs/figure7_defense.py
    deps:
    - path: data/model/rost_topic_prob.json
      hash: md5
      md5: 1e098d7266e71ffbee2498939c7af42d
      size: 218851
    - path: data/processed/data.json
      hash: md5
      md5: d45f9318f2f103fad70301b639fd1c24
      size: 580824
    - path: data/processed/meta_data.json
      hash: md5
      md5: b8c412ddc2be052079403cd5ccc2c41d
      size: 591268
    - path: src/outputs/common.py
      hash: md5
      md5: 6680afd704d5d3ab3d86f686aecfdd76
      size: 652
    - path: src/outputs/figure7_defense.py
      hash: md5
      md5: 6a6c4df8788284c4da258c753471dc95
      size: 5453
    params:
      params.yaml:
        figures.dpi: 600
        figures.page_height: 9.05512
        figures.page_width: 7.48031
    outs:
    - path: output/figure7_defense.png
      hash: md5
      md5: 6551a97b9a61da80f0c8aaa8d8d3c5c6
      size: 215846
